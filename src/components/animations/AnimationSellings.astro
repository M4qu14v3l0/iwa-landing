---
import Button from "../shared/Button.astro";

export const prerender = true;
---

<div class="animationSellings" id="animationSellingsId">
    <div class={`slide slide-1`}>
        <div class="selling-text-section">
            <div class="selling-text-title">
                Tu página web esta <span class="highlight-word">cerca</span>,
                hace falta un <span class="highlight-word">click</span>
            </div>
            <p class="selling-text-description">
                En el mundo digital actual, tu presencia en línea es más crucial
                que nunca. Una página web no es solo una opción, ¡es una
                necesidad para cualquier empresa seria!
            </p>
            <Button color="bg-black" link="#form_section">Click!</Button>
        </div>
    </div>
    <div class={`slide slide-2`}>
        <div class="selling-text-section">
            <div class="selling-text-title">
                Desarrollo <span class="highlight-word">rápido</span> y <span
                    class="highlight-word">atractivo</span
                >
            </div>
            <p class="selling-text-description">
                En Isa Web Agency, la velocidad es clave. Nuestro equipo
                altamente capacitado crea sitios web atractivos y veloces que
                superan tus expectativas sin sacrificar la funcionalidad.
                Enfocados en cautivar a tus visitantes, mantenemos la velocidad
                en primer plano.
            </p>
            <Button color="bg-black" link="#form_section">Click!</Button>
        </div>
    </div>
    <div class={`slide slide-3`}>
        <div class="selling-text-section">
            <div class="selling-text-title">
                <span class="highlight-word">Éxito</span> empresarial a través
                de tu
                <span class="highlight-word">página web</span>
            </div>
            <p class="selling-text-description">
                Alcanza tus objetivos empresariales con nosotros. Nuestros
                impactantes diseños y optimización constante aumentan la
                visibilidad en línea, la conversión de clientes y el crecimiento
                de tu negocio. Isa Web Agency es tu camino hacia el éxito en
                línea.
            </p>
            <Button color="bg-black" link="#form_section">Click!</Button>
        </div>
    </div>
</div>

<style>
    .animationSellings {
        margin-top: -120px;
        position: relative;
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 100vh;
    }

    .slide-1 {
        background-color: var(--primary);
    }
    .slide-2 {
        background-color: var(--secondary);
    }
    .slide-3 {
        color: white;
        background-color: var(--tertiary);
    }

    .slide {
        width: 100%;
        position: absolute;
        height: 100vh;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        opacity: 0;
        z-index: -2;
    }

    .selling-text-section {
        position: relative;
        text-align: left;
        display: flex;
        flex-direction: column;
        padding-left: clamp(200px, 40vw, 400px);
        padding-right: clamp(200px, 40vw, 400px);
    }

    .selling-text-title {
        font-weight: 700;
        font-size: clamp(18px, 4vw, 46px);
    }

    .selling-text-description {
        font-size: clamp(18px, 4vw, 24px);
    }

    .boxSellingsRight img {
        width: 300px;
        height: 300px;
        border-radius: 20px;
    }

    @media (max-width: 1200px) {
        .selling-text-section {
            position: relative;
            text-align: center;
            justify-content: center;
            align-items: center;

            padding-left: clamp(100px, 50vw, 200px);
            padding-right: clamp(100px, 50vw, 200px);
        }
    }

    @media (max-width: 900px) {
        .selling-text-title {
            font-weight: 700;
            font-size: 25px;
        }

        .selling-text-section {
            padding-left: clamp(20px, 20vw, 200px);
            padding-right: clamp(20px, 20vw, 200px);
        }

        .selling-text-description {
            font-size: 16px;
        }
    }

    @media (max-width: 500px) {
        .selling-text-section {
            padding-left: 20px;
            padding-right: 20px;
        }
    }
</style>

<script>
    import gsap from "gsap";
    import ScrollTrigger from "gsap/dist/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const box = document.getElementById("animationSellingsId");

    let timelineBoxAppear = gsap.timeline({
        scrollTrigger: {
            trigger: ".animationSellings",
            start: "top center",
            end: "top",
            scrub: 0.5,
            // markers: {
            //     startColor: "yellow",
            //     endColor: "blue",
            // },
        },
    });
    timelineBoxAppear.fromTo(
        box,
        {
            opacity: 0,
            x: -1000,
        },
        {
            opacity: 1,
            x: 0,
            duration: 1.5,
        },
    );

    gsap.set(".slide-1", { opacity: 1, zIndex: 1 });

    let timelineSlidePinned = gsap.timeline({
        scrollTrigger: {
            trigger: ".animationSellings",
            start: "top top",
            scrub: true,
            pin: true,
            end: "bottom+=3000px",
            // markers: true,
        },
    });
    timelineSlidePinned.to(".slide-1", { opacity: 0, zIndex: -2 });
    timelineSlidePinned.to(".slide-2", { opacity: 1, zIndex: 1 });
    timelineSlidePinned.to(".slide-2", { opacity: 0, zIndex: -2 });
    timelineSlidePinned.to(".slide-3", { opacity: 1, zIndex: 1 });
</script>
