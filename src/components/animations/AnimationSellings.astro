---
import Button from "../shared/Button.astro";

import clickAni from "../../../public/looties/click_animation.json";
export const prerender = true;

const slides_info = [
    {
        slide: "slide-1",
        title: "Tu página web esta cerca, hace falta un click",
        info: "En el mundo digital actual, tu presencia en línea es más crucial que nunca. Una página web no es solo una opción, ¡es una necesidad para cualquier empresa seria!",
        lootie: clickAni,
    },
    {
        slide: "slide-2",
        title: "Desarrollo Rápido y Atractivo",
        info: "En Isa Web Agency, entendemos la importancia de la velocidad en el mundo empresarial. Nuestro equipo altamente capacitado trabaja incansablemente para desarrollar sitios web atractivos y veloces que no solo cumplen con tus expectativas, sino que las superan. Creemos que un sitio web no solo debe ser funcional, sino también cautivador, y lo logramos sin comprometer la velocidad.",
        lootie: "/videos/svg_animated/building_website.mp4",
    },
    {
        slide: "slide-3",
        title: "Éxito Empresarial a Través de tu Página Web",
        info: "El verdadero éxito se mide en resultados. Te ayudamos a alcanzar tus objetivos empresariales utilizando tu nueva página web como una poderosa herramienta. Nuestros diseños impactantes y la optimización constante garantizan un aumento en la visibilidad en línea, la conversión de clientes y, en última instancia, el crecimiento de tu negocio. Juntos, alcanzamos el éxito empresarial que mereces. Con Isa Web Agency, no solo construyes un sitio web, construyes un camino hacia el éxito en línea. ¡Estamos aquí para convertir tus sueños digitales en realidad!",
        lootie: "",
    },
];
---

<div class="animationSellings" id="animationSellingsId">
    {
        slides_info.map((slide) => (
            <div class={`slide ${slide.slide}`}>
                <div class="selling-text-section">
                    <div class="selling-text-title">{slide.title}</div>
                    <p>{slide.info}</p>
                    <Button color="bg-black">Click!</Button>
                </div>
                <div class="boxSellingsRight"></div>
            </div>
        ))
    }
</div>
<!-- <div class="divisor"></div> -->

<style>
    .animationSellings {
        margin-top: 180px;
        position: relative;
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 100vh;
        /* padding-left: clamp(70px, 18%, 700px);
        padding-right: clamp(70px, 18%, 700px);*/
        background-color: #fde68a;
    }

    .slide {
        width: 100%;
        position: absolute;
        height: 100vh;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        opacity: 0;
    }

    .slide > div {
        width: 60%;
        gap: 50px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .selling-text-section {
        display: flex;
        flex-direction: column;
        gap: 16px;
        padding-left: clamp(70px, 18%, 100px);
        padding-right: clamp(70px, 18%, 100px);
        /* justify-content: center;
        align-items: center; */
    }

    .selling-text-title {
        display: flex;
        flex-direction: column;
        font-weight: 700;
        font-size: clamp(18px, 4vw, 60px);
    }

    /* animation stiles right and left */

    .boxSellingsRight {
        height: 100vh;
        width: 40%;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .boxSellingsRight video {
        width: 480px;
        height: 480px;
        border-radius: 20px;
    }

    .divisor {
        position: relative;
        display: block;
        height: 200000px;
        width: 100%;
        background-color: red;
    }
</style>

<script>
    import gsap from "gsap";
    import ScrollTrigger from "gsap/dist/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const box = document.getElementById("animationSellingsId");

    let timelineBoxAppear = gsap.timeline({
        scrollTrigger: {
            trigger: ".animationSellings",
            start: "top center",
            end: "top",
            scrub: 0.5,
            // markers: {
            //     startColor: "yellow",
            //     endColor: "blue",
            // },
        },
    });
    timelineBoxAppear.fromTo(
        box,
        {
            opacity: 0,
            x: -1000,
        },
        {
            opacity: 1,
            x: 0,
            duration: 1.5,
        },
    );

    gsap.set(".slide-1", { opacity: 1 });

    let timelineSlidePinned = gsap.timeline({
        scrollTrigger: {
            trigger: ".animationSellings",
            start: "top top",
            scrub: true,
            pin: true,
            end: "bottom+=3000px",
            // markers: true,
        },
    });
    timelineSlidePinned.to(".slide-1", { opacity: 0 });
    timelineSlidePinned.to(".slide-2", { opacity: 1 });
    timelineSlidePinned.to(".slide-2", { opacity: 0 });
    timelineSlidePinned.to(".slide-3", { opacity: 1 });
</script>
